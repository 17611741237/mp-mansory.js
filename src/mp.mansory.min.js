!function(r){r.fn.mpmansory=function(t){var n=r.extend({childrenClass:"",breakpoints:{lg:4,md:4,sm:6,xs:12},distributeBy:{attr:"data-order",attrOrder:"asc",order:!1,height:!1},onload:function(r){return!0}},t)
return Array.min=function(r){return Math.min.apply(Math,r)},r.emptyArray=function(r){for(var t=0;t<r.length;t++)r[t].remove()
return new Array},r.fn.initialize=function(t,n){for(var e=[],i=0;t>i;i++){var a=r("<div></div>")
a.addClass(n),r(this).append(a),e.push(a)}return e},r.fn.distributeItemsByHeight=function(r,t){for(var n=0;n<t.length;n++){for(var e=new Array,i=0;i<r.length;i++)e.push(r[i].height())
var a=Array.min(e)==Number.POSITIVE_INFINITY||Array.min(e)==Number.NEGATIVE_INFINITY?0:Array.min(e)
r[e.indexOf(a)].append(t[n])}},r.fn.getCurrentColumnSize=function(){return r(window).width()>1200?"lg":r(window).width()>992?"md":r(window).width()>720?"sm":r(window).width()>480?"xs":(r(window).width()>320,"xs")},r.fn.distributeItemsByOrder=function(r,t){for(var n=0,e=0;e<t.length;e++)n==r.length&&(n=0),r[n].append(t[e]),n++},r.fn.distributeItemsByAttr=function(t,n,e){for(var i=new Array,a=0;a<n.length;a++)i.push(r(n[a]).attr(e.attr))
"asc"==e.attrOrder?i.sort(function(r,t){return r-t}):i.sort(function(r,t){return t-r}),console.log(i)
for(var o=new Array,s=0;s<i.length;s++){var u=r(this).children("["+e.attr+"="+i[s]+"]")
o.push(u)}for(var d=0,l=0,a=0;a<o.length;a++)d==t.length&&(d=0),o[a].length>1?(t[d].append(o[a][l]),l++):t[d].append(o[a]),d++},r.fn.apply=function(t,n,e,i){var a=r(this),o=(a.getCurrentColumnSize(),n),s="col-lg-"+t.breakpoints.lg+" col-md-"+t.breakpoints.md+" col-sm-"+t.breakpoints.sm+" col-xs-"+t.breakpoints.xs+" "+t.columnClasses
return e=r(this).initialize(o,s),t.distributeBy.order?a.distributeItemsByOrder(e,i):t.distributeBy.height?a.distributeItemsByHeight(e,i):t.distributeBy.attr&&(console.log("byAttr"),a.distributeItemsByAttr(e,i,t.distributeBy)),e},this.each(function(){var t=r(this),e=t.getCurrentColumnSize(),i=12/n.breakpoints[e],a=t.children(""!=n.childrenClass?"."+n.childrenClass:"div"),o=new Array
o=t.apply(n,i,o,a),r(window).on("resize",function(s){t.getCurrentColumnSize()!=e&&(i=12/n.breakpoints[t.getCurrentColumnSize()],o=r.emptyArray(o),o=t.apply(n,i,o,a),e=t.getCurrentColumnSize())}),n.hasOwnProperty("onload")&&n.onload(a)})}}(jQuery)
